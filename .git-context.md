# Git Context File - Manufacturing Report Builder

## Repository Information
- **Repository Name**: reportBuilder
- **Owner**: nks-16
- **Current Branch**: main
- **Repository Type**: Full-stack web application
- **License**: MIT
- **Language**: JavaScript/React/Node.js

## Project Overview
Manufacturing Report Builder is a comprehensive drag-and-drop report builder application designed for large-scale manufacturers. It enables users to create custom reports from manufacturing data without requiring custom development.

## Architecture Summary
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   Backend       │    │   Database      │
│   (React SPA)   │◄──►│   (Node.js)     │◄──►│   (MySQL)       │
│   Port: 3000    │    │   Port: 5000    │    │   Sequelize ORM │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## Technology Stack
### Frontend
- **Framework**: React 18+ with Vite
- **Styling**: TailwindCSS 3+
- **State**: React Hooks
- **Routing**: React Router DOM v6
- **Charts**: Chart.js + React-ChartJS-2
- **Animations**: Framer Motion
- **DnD**: @hello-pangea/dnd
- **Exports**: jsPDF, html2canvas, papaparse

### Backend
- **Runtime**: Node.js + Express.js 4+
- **Database**: MySQL with Sequelize ORM
- **Security**: Helmet, CORS, Rate Limiting
- **AI**: Google Generative AI (optional)
- **Validation**: Joi

## Directory Structure
```
reportBuilder/
├── README.md                    # Comprehensive project documentation
├── client/                      # React frontend application
│   ├── index.html              # HTML entry point
│   ├── package.json            # Frontend dependencies
│   ├── vite.config.js          # Vite configuration
│   ├── tailwind.config.js      # TailwindCSS configuration
│   ├── postcss.config.js       # PostCSS configuration
│   ├── public/                 # Static assets
│   │   └── factory-icon.svg    # Application icon
│   └── src/                    # React source code
│       ├── App.jsx             # Main React component
│       ├── main.jsx            # React entry point
│       ├── index.css           # Global styles
│       ├── components/         # React components
│       │   ├── Canvas.jsx      # Report builder workspace
│       │   ├── Header.jsx      # Navigation header
│       │   ├── LoadingSpinner.jsx # Loading component
│       │   ├── PreviewPane.jsx # Report preview
│       │   └── Sidebar.jsx     # Data source selector
│       └── services/           # API service layer
│           ├── databaseService.js  # Database operations
│           ├── exportService.js    # Export functionality
│           └── reportsService.js   # Report generation
└── server/                     # Node.js backend
    ├── package.json            # Backend dependencies
    ├── server.js               # Express server entry point
    ├── controllers/            # Business logic
    │   ├── databaseController.js   # Database operations
    │   └── reportsController.js    # Report generation
    ├── models/                 # Database models
    │   └── init-models.js      # Sequelize model definitions
    ├── routes/                 # API routes
    │   ├── database.js         # Database endpoints
    │   └── reports.js          # Report endpoints
    └── utils/                  # Utilities
        └── seedDatabase.js     # Database seeding script
```

## Key Features
1. **Drag & Drop Interface**: Intuitive report building
2. **Real-time Visualization**: Interactive charts and tables
3. **Export Capabilities**: PDF, CSV, PNG formats
4. **Data Filtering**: Date ranges, categories, regions
5. **Aggregations**: Sum, count, average operations
6. **Responsive Design**: Mobile-first with dark mode
7. **AI Integration**: Optional Google Gemini suggestions

## Data Models
### Production
- Product manufacturing data with quantities, dates, factories, shifts, and production lines

### Defects
- Quality control data with defect counts, types, severity levels, and inspector information

### Sales
- Sales analytics with regional data, amounts, channels, and customer information

## API Endpoints
### Database Operations
- `GET /api/database/collections` - List all collections
- `GET /api/database/collections/:name/:limit?` - Get collection data
- `POST /api/database/connect-db` - Test database connection

### Report Generation
- `POST /api/reports/generate-report` - Generate custom reports

### System
- `GET /api/health` - Health check endpoint

## Development Workflow
### Setup Commands
```bash
npm run install:all        # Install all dependencies
cd server && npm run seed  # Seed database with sample data
npm run dev                # Start development servers
```

### Environment Variables
```env
MYSQL_DATABASE=manufacturing_reports
MYSQL_USER=root
MYSQL_PASSWORD=
MYSQL_HOST=localhost
GEMINI_API_KEY=your_api_key_here
PORT=5000
NODE_ENV=development
```

### Build & Deploy
```bash
npm run build              # Build for production
npm start                  # Start production server
```

## Sample Data
The application comes with pre-seeded sample data:
- **50 Production Records**: Across multiple factories (A, B, C) and products (PROD-001 to PROD-005)
- **30 Defect Records**: Various types (Cosmetic, Functional, Critical, Minor) and severity levels
- **40 Sales Records**: Different regions (North, South, East, West) and channels (Direct, Retail, Online, Distributor)

## Security Features
- CORS configuration for cross-origin requests
- Helmet.js for security headers
- Rate limiting on API endpoints
- Input validation using Joi schemas
- Environment variable protection for sensitive data

## Mobile & Accessibility
- Mobile-first responsive design
- Touch-optimized interactions
- Dark mode support with system preference detection
- Keyboard navigation support
- Screen reader compatibility

## Recent Development Focus
- Migration from MongoDB to MySQL with Sequelize ORM
- Implementation of drag-and-drop report builder
- Real-time data visualization capabilities
- Export functionality for multiple formats
- Responsive design implementation
- AI integration for smart suggestions

## Contributing Guidelines
1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## Support & Documentation
- Comprehensive README with setup instructions
- API documentation in controllers
- Component documentation in React files
- Database schema in model definitions
- Environment configuration examples

---
**Generated on**: October 5, 2025
**Repository Status**: Active Development
**Main Contributors**: nks-16